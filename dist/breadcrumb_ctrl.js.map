{"version":3,"sources":["../src/breadcrumb_ctrl.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO,a;;AACC,qB,kBAAA,S;;AACA,uB,yCAAA,W;;AACD,kB;;;;;;;;;;;;;;;;;;;;;sCAGM,c;;;AACT,wCAAY,MAAZ,EAAoB,SAApB,EAA+B,UAA/B,EAA2C;AAAA;;AAAA,kHACjC,MADiC,EACzB,SADyB;;AAEvC,0BAAK,UAAL,GAAkB,UAAlB;AACA,0BAAK,IAAL,GAAY,EAAZ;AACA,wBAAI,CAAC,eAAe,OAAf,CAAuB,UAAvB,CAAL,EAAyC;AACrC,uCAAe,OAAf,CAAuB,UAAvB,EAAmC,IAAnC;AACH,qBAFD,MAEO;AACH,8BAAK,IAAL,GAAY,KAAK,KAAL,CAAW,eAAe,OAAf,CAAuB,UAAvB,CAAX,CAAZ;AACH;AACD,0BAAK,UAAL;AATuC;AAU1C;;;;iDAEY;AAAA;;AACT,4BAAI,UAAU,YAAY,kBAAZ,EAAd;AACA,6BAAK,UAAL,CAAgB,MAAhB,CAAuB,EAAC,cAAc,OAAf,EAAwB,OAAO,KAAK,KAAL,CAAW,KAA1C,EAAvB,EAAyE,IAAzE,CAA8E,kBAAU;AACpF,gCAAI,MAAM,QAAQ,OAAO,QAAP,CAAgB,QAAhB,CAAyB,KAAzB,CAA+B,GAA/B,EAAoC,GAApC,EAAlB;AACA,gCAAI,MAAM,EAAE,IAAF,CAAO,MAAP,EAAe,EAAE,KAAK,GAAP,EAAf,CAAV;AACA,gCAAI,EAAE,SAAF,CAAY,OAAK,IAAjB,EAAuB,EAAE,KAAK,eAAe,GAAf,GAAqB,eAA5B,EAAvB,IAAwE,CAA5E,EAA+E;AAC3E,uCAAK,IAAL,CAAU,IAAV,CAAgB,EAAE,KAAK,eAAe,GAAf,GAAqB,eAA5B,EAA6C,MAAM,IAAI,KAAvD,EAAhB;AACH;AACD,mCAAK,SAAL,GAAiB,IAAI,KAArB;AACA,2CAAe,OAAf,CAAuB,UAAvB,EAAmC,KAAK,SAAL,CAAe,OAAK,IAApB,CAAnC;AACH,yBARD;AASH;;;yCAEI,K,EAAO,I,EAAM;AACd,6BAAK,MAAL,CAAY,EAAZ,CAAe,QAAf,EAAyB,YAAM;AAC3B,gCAAM,kBAAkB,KAAK,IAAL,CAAU,gBAAV,CAAxB;AACA,4CAAgB,GAAhB,CAAoB,SAApB,EAA+B,GAA/B;AACH,yBAHD;AAIH;;;;cA/B+B,S;;;;AAmCpC,2BAAe,WAAf,GAA6B,aAA7B","file":"breadcrumb_ctrl.js","sourcesContent":["import _ from 'lodash';\r\nimport {PanelCtrl} from 'app/plugins/sdk';\r\nimport {impressions} from 'app/features/dashboard/impression_store';\r\nimport config from 'app/core/config';\r\nimport './css/breadcrumb.css!';\r\n\r\nexport class BreadcrumbCtrl extends PanelCtrl {\r\n    constructor($scope, $injector, backendSrv) {\r\n        super($scope, $injector);\r\n        this.backendSrv = backendSrv;\r\n        this.test = [];\r\n        if (!sessionStorage.getItem('dashlist')) {\r\n            sessionStorage.setItem('dashlist', '[]');\r\n        } else {\r\n            this.test = JSON.parse(sessionStorage.getItem('dashlist'));\r\n        }\r\n        this.updateText();\r\n    }\r\n\r\n    updateText() {\r\n        var dashIds = impressions.getDashboardOpened();\r\n        this.backendSrv.search({dashboardIds: dashIds, limit: this.panel.limit}).then(result => {\r\n            var uri = \"db/\" + window.location.pathname.split(\"/\").pop();\r\n            var obj = _.find(result, { uri: uri });\r\n            if (_.findIndex(this.test, { url: \"dashboard/\" + uri + \"?hide_top_bar\" }) < 0) {\r\n                this.test.push( { url: \"dashboard/\" + uri + \"?hide_top_bar\", name: obj.title } );\r\n            }\r\n            this.dashTitle = obj.title;\r\n            sessionStorage.setItem('dashlist', JSON.stringify(this.test));\r\n        });\r\n    }\r\n\r\n    link(scope, elem) {\r\n        this.events.on('render', () => {\r\n            const $panelContainer = elem.find('.panel-content');\r\n            $panelContainer.css('padding', '0');\r\n        });\r\n    }\r\n\r\n}\r\n\r\nBreadcrumbCtrl.templateUrl = 'module.html';\r\n"]}